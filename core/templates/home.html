<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>syncHealth | Welcome!</title>
  <script src="https://cdn.tailwindcss.com"></script>


  <style>
    /* Keep dropdown visible with smooth transitions */
    .dropdown-content {
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .dropdown:hover .dropdown-content {
      opacity: 1;
      visibility: visible;
    }

    #card-container::-webkit-scrollbar {
        display: none;
      }
    
      #card-container {
        -ms-overflow-style: none; /* Internet Explorer 10+ */
        scrollbar-width: none; /* Firefox */
      }
      #doctor-card-container::-webkit-scrollbar {
        display: none;
      }
    
      #doctor-card-container {
        -ms-overflow-style: none; /* Internet Explorer 10+ */
        scrollbar-width: none; /* Firefox */
      }
      #branch-cards-container {
        overflow-x: hidden;
      }
      .overflow-hidden {
        overflow-x: hidden;
      }

      
      /* Stylish Horizontal Scrollbar */
.testimonial-cards-wrapper {
  display: flex;
  overflow-x: auto; /* Horizontal scroll */
  padding: 10px 0;
  gap: 20px;
  scrollbar-width: thin;
  scrollbar-color: #29622E #f9fafb; /* Green color for scrollbar thumb and light background */
}

.testimonial-cards-wrapper::-webkit-scrollbar {
  height: 8px; /* Horizontal scrollbar height */
}

.testimonial-cards-wrapper::-webkit-scrollbar-thumb {
  background-color: #29622E; /* Green color for the scrollbar thumb */
  border-radius: 10px; /* Rounded corners for the scrollbar thumb */
}

.testimonial-cards-wrapper::-webkit-scrollbar-track {
  background-color: #f9fafb; /* Light background for the scrollbar track */
  border-radius: 10px; /* Rounded corners for the scrollbar track */
}

.testimonial-cards-wrapper::-webkit-scrollbar-button {
  display: none; /* Hide the default scroll buttons */
}

      

  </style>
</head>
<body class="bg-gray-100">
  <nav class="bg-white sticky top-0 z-50 shadow-md">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <!-- Logo -->
        <a href="/" class="text-xl font-bold text-[#29622E] hover:text-[#35993E]">syncHealth</a>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex space-x-6 items-center">
          <a href="/" class="text-[#29622E] hover:text-[#35993E]"><strong>Home</strong></a>
          <a href="/allDepartments" class="text-[#29622E] hover:text-[#35993E]">Departments</a>
          <a href="/allDoctors" class="text-[#29622E] hover:text-[#35993E]">Doctors</a>
          <a href="/healthPackages" class="text-[#29622E] hover:text-[#35993E]">Packages</a>
          <a href="/aboutUs" class="text-[#29622E] hover:text-[#35993E]">About Us</a>
        </div>

        <!-- Icons -->
        <div class="hidden md:flex space-x-4 items-center">
          <a href="/chats/" class="text-[#29622E] hover:text-[#35993E]">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h8M8 14h4m5 3l-3-3H6a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2z"/>
            </svg>
          </a>
          <a href="{{profile_redirect}}" class="text-[#29622E] hover:text-[#35993E]">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-4 0-8 2-8 4v2h16v-2c0-2-4-4-8-4z"/>
            </svg>
          </a>
        </div>

        <!-- Mobile Menu Button -->
         
        <div class="md:hidden">
          <button id="menu-toggle" class="text-[#29622E] hover:text-[#35993E]">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile Navigation -->
      <div id="mobile-menu" class="hidden md:hidden space-y-2">
        <a href="/" class="block text-[#29622E] hover:text-[#35993E]"><strong>Home</strong></a>
        <a href="/allDepartments" class="block text-[#29622E] hover:text-[#35993E]">Departments</a>
        <a href="/allDoctors" class="block text-[#29622E] hover:text-[#35993E]">Doctors</a>
        <a href="/healthPackages" class="text-[#29622E] hover:text-[#35993E]">Packages</a>
        <a href="/aboutUs" class="block text-[#29622E] hover:text-[#35993E]">About Us</a>
        <a href="/chats" class="text-[#29622E] hover:text-[#35993E]">Chats</a>
        <a href="{{profile_redirect}}" class="block text-[#29622E] hover:text-[#35993E]">Profile</a>
      </div>
    </div>
  </nav>

<!-- Banner Section-->
  <section class="relative bg-cover bg-center h-[500px] sm:h-[600px] lg:h-[700px]" style="background-image: url('/media/{{banner_file}}');">
    <div class="absolute inset-0 bg-black bg-opacity-50 flex justify-center items-center">
      <div class="text-center text-white px-4 sm:px-6 lg:px-8">
        <h2 class="text-5xl sm:text-6xl font-extrabold mb-4 text-white drop-shadow-lg">Welcome to syncHealth!</h2>
        <p class="text-lg sm:text-xl mb-6">Discover the best health facilities and services we have to offer. Join with syncHealth today!</p>
      </div>
    </div>
  </section>

<!-- Instant appointment section-->
<section class="relative bg-[#29622E] text-white pt-5 py-16 pb-5 pl-1 mx-8 rounded-xl border-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-left">
      <h2 class="text-4xl sm:text-5xl font-bold mb-8">Book Appointment Instantly</h2>
  
      <div class="space-y-6 sm:space-y-8 lg:flex lg:items-center lg:space-x-8 lg:space-y-0">
        <!-- Hospital Dropdown -->
        <div class="flex justify-center lg:flex-1">
          <select id="hospitalSelect" class="bg-white text-[#29622E] py-2 px-4 rounded-lg shadow-md focus:outline-none w-full sm:w-auto font-bold">
            <option value="" disabled selected>Select Hospital</option>
          </select>
        </div>
  
        <!-- Department Dropdown -->
        <div class="flex justify-center lg:flex-1">
          <select id="departmentSelect" class="bg-white text-[#29622E] py-2 px-4 rounded-lg shadow-md focus:outline-none w-full sm:w-auto font-bold disabled">
            <option value="" disabled selected>Select Department</option>
          </select>
        </div>
  
        <!-- Doctor Dropdown -->
        <div class="flex justify-center lg:flex-1">
          <select id="doctorSelect" class="bg-white text-[#29622E] py-2 px-4 rounded-lg shadow-md focus:outline-none w-full sm:w-auto font-bold disabled">
            <option value="" disabled selected>Select Doctor</option>
          </select>
        </div>
  
        <!-- Continue Booking Button -->
        <div class="flex justify-center lg:flex-1">
          <button id="continueBookingBtn" class="bg-white text-[#29622E] py-3 px-6 rounded-lg text-lg font-bold hover:bg-[#35993E] hover:text-white transition duration-300 w-full sm:w-auto disabled">
            Continue Booking
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Health PAckages Section-->
  <section class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!-- Section Title -->
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-3xl font-bold text-[#29622E]">All Health Packages</h2>
        <a href="/healthPackages" class="text-[#35993E] font-bold hover:underline">View All</a>
      </div>
  
      <!-- Health Packages Cards (Scrollable) -->
      <div class="relative overflow-hidden">
        <!-- Left Arrow Button -->
        <button id="prev" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-[#29622E] text-white p-3 rounded-full shadow-lg hover:bg-[#35993E] z-10">
          &#10094;
        </button>
        
        <!-- Card Container (Fixed Scroll Issue) -->
        <div id="card-container" class="flex space-x-6 overflow-x-auto no-scrollbar scrollbar-hidden">
          <!-- Single Package Card -->
          {% for package in packages %}
            <a href="/health-package/{{package.id}}" class="flex-none w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 xl:w-1/5 bg-white shadow-lg rounded-lg overflow-hidden transition-transform transform hover:scale-105 hover:shadow-2xl">
              <img src="/media/{{package.image}}" alt="Package Image" class="w-full h-40 object-cover">
              <div class="p-4">
                <h3 class="font-bold text-[#29622E] mb-1">{{package.name}}</h3>
                <p class="text-gray-700 mb-4">{{package.branch}}</p>
                <p class="font-bold text-[#29622E]">Price: {{package.price}}</p>
              </div>
            </a>
          {% endfor %}
        </div>
  
        <!-- Right Arrow Button -->
        <button id="next" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-[#29622E] text-white p-3 rounded-full shadow-lg hover:bg-[#35993E] z-10">
          &#10095;
        </button>
      </div>
    </div>
  </section>


  <!-- Expert Doctors Section-->
  <section class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!-- Section Title -->
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-3xl font-bold text-[#29622E]">Top Doctors</h2>
        <a href="/allDoctors" class="text-[#35993E] font-bold hover:underline">View All</a>
      </div>
  
      <!-- Top Doctors Cards (Grid) -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        <!-- Single Doctor Card -->
        {% for doctor in doctors %}
        <a href="/docProfile/{{doctor.email}}" class="bg-white shadow-lg rounded-lg overflow-hidden transition-transform transform hover:scale-105 hover:shadow-2xl">
          <img src="{{doctor.profile_pic}}" alt="Doctor Image" class="w-full h-40 object-cover">
          <div class="p-4">
            <h3 class="font-bold text-[#29622E] mb-1">Dr. {{doctor.name}}</h3>
            <p class="text-sm text-gray-600 mb-3">{{doctor.department}}</p>
            <p class="text-sm text-gray-600 mb-3">{{doctor.branch}}</p>
            
            <a href="/docProfile/{{doctor.email}}" class="font-bold text-[#29622E] underline">View Profile</a>
          </div>
        </a>
        {% endfor %}

      </div>
    </div>
  </section>

  <!--Hospital Branches-->
  <section class="py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!-- Section Title -->
      <div class="flex items-center justify-between mb-8">
        <h2 class="text-3xl font-bold text-[#29622E]">Our Branches</h2>
        <a href="/aboutUs/#allBranches" class="text-[#35993E] font-bold hover:underline">View All</a>
      </div>
  
      <!-- Branch Cards Section -->
      <div class="relative">
        <!-- Left Scroll Button -->
        
  
        <div class="overflow-hidden">
          <div class="flex space-x-6" id="branch-cards-container">
            <!-- Branch Card 1 -->
            {% for h in hospital %}
              <div class="bg-white shadow-lg rounded-lg overflow-hidden transition-transform transform hover:scale-105 hover:shadow-2xl w-[280px] sm:w-[350px] md:w-[400px] lg:w-[450px] xl:w-[500px]">
                
                <div class="p-4">
                  <h3 class="font-bold text-[#29622E] mb-1">{{h.branch_name}}</h3>
                  <p class="text-sm text-gray-600">{{h.branch_location}}</p>
                </div>
              </div>
            {% endfor %}
  

            </div>
            </div>
          </div>
        </div>
  
      </div>
    </div>
  </section>


  <!--Testimonials Section-->

  <section class="testimonial-section py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold mb-8 text-[#29622E]">What Our Patients Say</h2>
      
      <div class="testimonial-cards-wrapper relative overflow-x-auto flex space-x-6">
        <!-- Testimonial 1 -->
        <div class="testimonial-card p-6 rounded-lg border-4 border-[#29622E] bg-white mx-auto mb-4 flex-shrink-0">
          <img src="/media/images/person1.jpg" alt="Person 1" class="w-20 h-20 rounded-full mx-auto mb-4">
          <p class="font-bold text-lg">John Doe</p>
          <p class="text-gray-600 mt-2">"This hospital changed my life. The doctors were amazing and the care was top-notch!"</p>
        </div>
        <!-- Testimonial 2 -->
        <div class="testimonial-card p-6 rounded-lg border-4 border-[#29622E] bg-white mx-auto mb-4 flex-shrink-0">
          <img src="/media/images/person2.png" alt="Person 2" class="w-20 h-20 rounded-full mx-auto mb-4">
          <p class="font-bold text-lg">Jane Smith</p>
          <p class="text-gray-600 mt-2">"I had a great experience with the team. Highly recommend for anyone seeking quality care."</p>
        </div>
        <!-- Testimonial 3 -->
        <div class="testimonial-card p-6 rounded-lg border-4 border-[#29622E] bg-white mx-auto mb-4 flex-shrink-0">
          <img src="/media/images/person3.png" alt="Person 3" class="w-20 h-20 rounded-full mx-auto mb-4">
          <p class="font-bold text-lg">Michael Lee</p>
          <p class="text-gray-600 mt-2">"I was impressed by the professionalism and care provided by the staff."</p>
        </div>
        <!-- Testimonial 4 -->
        <div class="testimonial-card p-6 rounded-lg border-4 border-[#29622E] bg-white mx-auto mb-4 flex-shrink-0">
          <img src="/media/images/person4.jpg" alt="Person 4" class="w-20 h-20 rounded-full mx-auto mb-4">
          <p class="font-bold text-lg">Emily Johnson</p>
          <p class="text-gray-600 mt-2">"I felt well cared for during my treatment. I am forever grateful for their excellent service."</p>
        </div>
      </div>
  
    </div>
  </section>
  
  
  

  <footer class="bg-[#29622E] text-white py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Logo Section -->
      <div class="flex items-center">
        <a href="/" class="text-3xl font-bold text-white hover:text-[#35993E]">syncHealth</a>
      </div>
  
      <!-- Contact Section -->
      <div class="space-y-3">
        <h3 class="text-lg font-bold">Contact</h3>
        <p>Email: customer@synchealth.com</p>
        <p>Phone: +977 1234567890</p>
        <a 
          href="#" 
          id="location-link" 
          class="text-white hover:underline"
        >
          Our Location: Kathmandu, Nepal
        </a>
      </div>
  
      <!-- Back to Top and Pharmacy Tracker -->
      <div class="text-right space-y-3">
        <button 
          id="back-to-top" 
          class="flex items-center justify-center bg-[#35993E] text-white p-2 rounded hover:bg-white hover:text-[#29622E]">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"/>
          </svg>
          <span class="ml-2">Back to Top</span>
        </button>
        <a 
          href="#" 
          id="track-pharmacy" 
          class="flex block text-white hover:underline"
        >
          Track Nearby Pharmacies
        </a>
      </div>
    </div>
  
    <!-- Bottom Section -->
    <div class="border-t border-white mt-8 pt-4 text-center">
      <p>&copy; <span id="current-year"></span> syncHealth. All rights reserved.</p>
    </div>
  
    <!-- Popup Box -->
    <div id="popup-box" class="hidden fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center">
      <div class="bg-white p-6 rounded-lg max-w-md w-full">
        <h3 id="popup-title" class="text-lg text-[#35993E] font-bold mb-4"></h3> <!-- Dynamic Title Here -->
        <iframe 
          id="map" 
          src="" 
          width="100%" 
          height="200" 
          frameborder="0" 
          style="border:0;" 
          allowfullscreen="" 
          aria-hidden="false" 
          tabindex="0"
        ></iframe>
        <button 
          id="close-popup" 
          class="mt-4 w-full bg-[#808080] text-white py-2 px-4 rounded hover:bg-[#808099]">
          Close
        </button>
      </div>
    </div>
  </footer>
  
  
  

  <script>
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    menuToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    document.getElementById('back-to-top').addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    
    // Show Popup with Map for Location and Pharmacy Tracker
    const popupBox = document.getElementById('popup-box');
    const mapFrame = document.getElementById('map');
    const closePopup = document.getElementById('close-popup');
    const popupTitle = document.getElementById('popup-title'); // Access the title element
    
    document.getElementById('location-link').addEventListener('click', (event) => {
        event.preventDefault();
        popupTitle.textContent = 'Our Location'; // Set the title for location
        mapFrame.src = 'https://www.google.com/maps/embed?pb=YOUR_EMBED_MAP_URL'; // Replace with your actual Google Maps embed link
        popupBox.classList.remove('hidden');
    });
    
    // Dynamic Nearby Pharmacy Tracker
    document.getElementById('track-pharmacy').addEventListener('click', (event) => {
      event.preventDefault();
      popupTitle.textContent = 'Nearby Pharmacy Tracker';

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition((position) => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;

          // Embed Google Maps pharmacy search near user's location
          const searchURL = `https://www.google.com/maps?q=pharmacy&ll=${lat},${lon}&z=15&output=embed`;
          mapFrame.src = searchURL;
          popupBox.classList.remove('hidden');
        }, () => {
          alert("Location permission denied or unavailable.");
        });
      } else {
        alert("Your browser does not support geolocation.");
      }
    });
    // Close Popup
    closePopup.addEventListener('click', () => {
        popupBox.classList.add('hidden');
        mapFrame.src = ''; // Clear the iframe src when popup closes
    });
    
    // Set Current Year
    document.getElementById('current-year').textContent = new Date().getFullYear();
    


    // Health package Js
    const prevButton = document.getElementById('prev');
  const nextButton = document.getElementById('next');
  const cardContainer = document.getElementById('card-container');

  prevButton.addEventListener('click', () => {
    cardContainer.scrollBy({
      left: -350, // Scroll left by 350px (adjust as needed)
      behavior: 'smooth'
    });
  });

  nextButton.addEventListener('click', () => {
    cardContainer.scrollBy({
      left: 350, // Scroll right by 350px (adjust as needed)
      behavior: 'smooth'
    });
  });



  
  //testimonials
  


  // Dynamic dropdowns
   let branches = [];
  let departments = [];
  let doctors = [];

  const hospitalSelect = document.getElementById("hospitalSelect");
  const departmentSelect = document.getElementById("departmentSelect");
  const doctorSelect = document.getElementById("doctorSelect");
  const continueBookingBtn = document.getElementById("continueBookingBtn");

  document.addEventListener("DOMContentLoaded", async () => {
    try {
      const [branchRes, deptRes, doctorRes] = await Promise.all([
        fetch("/api/get_all_hospital_branches/"),
        fetch("/api/get-departments/"),
        fetch("/api/get_doctors/")
      ]);

      const branchData = await branchRes.json();
      const deptData = await deptRes.json();
      const doctorData = await doctorRes.json();

      console.log(branchData);
      console.log(deptData);
      console.log(doctorData);

      branches = branchData.branches;
      departments = deptData.departments;
      doctors = doctorData.doctors;

      // Populate Hospital dropdown
      branches.forEach(branch => {
        const opt = document.createElement("option");
        opt.value = branch.branch_code;
        opt.textContent = branch.branch_name;
        hospitalSelect.appendChild(opt);
      });
    } catch (error) {
      console.error("Error fetching data:", error);
    }
  });

  hospitalSelect.addEventListener("change", () => {
    const selectedBranchId = hospitalSelect.value;

    // Filter departments
    const filteredDepartments = departments.filter(d => d.branch_id == selectedBranchId);

    departmentSelect.innerHTML = `<option value="" disabled selected>Select Department</option>`;
    filteredDepartments.forEach(dept => {
      const opt = document.createElement("option");
      opt.value = dept.name;
      opt.textContent = dept.name;
      departmentSelect.appendChild(opt);
    });

    departmentSelect.disabled = false;
    doctorSelect.disabled = true;
    doctorSelect.innerHTML = `<option value="" disabled selected>Select Doctor</option>`;
    continueBookingBtn.disabled = true;
  });

  departmentSelect.addEventListener("change", () => {
    const selectedDeptId = departmentSelect.value;
    const selectedBranchId = hospitalSelect.value;

    // Filter doctors
    const filteredDoctors = doctors.filter(d => d.department == selectedDeptId && d.branch_id == selectedBranchId);

    doctorSelect.innerHTML = `<option value="" disabled selected>Select Doctor</option>`;
    filteredDoctors.forEach(doc => {
      const opt = document.createElement("option");
      opt.value = doc.email;
      opt.textContent = doc.name;
      doctorSelect.appendChild(opt);
    });

    doctorSelect.disabled = false;
    continueBookingBtn.disabled = true;
  });

  doctorSelect.addEventListener("change", () => {
    if (doctorSelect.value) {
      continueBookingBtn.disabled = false;
    }
  });

  continueBookingBtn.addEventListener("click", () => {
    const doctorEmail = doctorSelect.value;
    if (doctorEmail) {
      window.location.href = `/docProfile/${doctorEmail}`;
    }
  });
    
  </script>
</body>
</html>
